@echo off
chcp 65001 >nul

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘            ðŸ›‘ åœæ­¢ AI Town é–‹ç™¼ç’°å¢ƒ                      â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo æ­£åœ¨åœæ­¢æ‰€æœ‰ç›¸é—œæœå‹™...
echo.

REM åœæ­¢ Node.js é€²ç¨‹ (Convex Dev å’Œ Vite)
echo [1/2] åœæ­¢ Node.js æœå‹™ (Convex Dev, Vite)...
taskkill /F /IM node.exe >nul 2>&1
if errorlevel 1 (
    echo âš ï¸  æ²’æœ‰æ‰¾åˆ°é‹è¡Œä¸­çš„ Node.js é€²ç¨‹
) else (
    echo âœ… Node.js æœå‹™å·²åœæ­¢
)

REM åœæ­¢ Convex æœ¬åœ°å¾Œç«¯
echo.
echo [2/2] åœæ­¢ Convex æœ¬åœ°å¾Œç«¯...
taskkill /F /IM convex-local-backend.exe >nul 2>&1
if errorlevel 1 (
    echo âš ï¸  æ²’æœ‰æ‰¾åˆ°é‹è¡Œä¸­çš„ Convex å¾Œç«¯
) else (
    echo âœ… Convex å¾Œç«¯å·²åœæ­¢
)

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                  âœ… æ‰€æœ‰æœå‹™å·²åœæ­¢                       â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

REM é©—è­‰ç«¯å£å·²é‡‹æ”¾
echo é©—è­‰ç«¯å£ç‹€æ…‹...
netstat -ano | findstr ":3210" >nul 2>&1
if errorlevel 1 (
    echo âœ… Port 3210 å·²é‡‹æ”¾
) else (
    echo âš ï¸  Port 3210 ä»è¢«ä½”ç”¨,å¯èƒ½éœ€è¦æ‰‹å‹•è™•ç†
)

netstat -ano | findstr ":5173" >nul 2>&1
if errorlevel 1 (
    echo âœ… Port 5173 å·²é‡‹æ”¾
) else (
    echo âš ï¸  Port 5173 ä»è¢«ä½”ç”¨,å¯èƒ½éœ€è¦æ‰‹å‹•è™•ç†
)

echo.
echo æŒ‰ä»»æ„éµé—œé–‰æ­¤çª—å£...
pause >nul
